description = "Internal builder image for Salesforce Functions."

[stack]
id = "heroku-22"
build-image = "heroku/heroku:22-cnb-build"
run-image = "heroku/heroku:22-cnb"

[lifecycle]
# We have to use an older lifecycle version in this builder image since lifecycle 0.18.0
# dropped support for Buildpack API versions <0.7, and:
# - heroku/nodejs-function is still using the old Bash based NPM CNB (which is using Buildpack API 0.6)
# - we know of at least one custom buildpack that's also using a legacy Buildpack API:
#   https://github.com/CSGAMERSServices/puppeteer-heroku-buildpack
version = "0.17.2"

[[buildpacks]]
  id = "heroku/java-function"
  uri = "docker://docker.io/heroku/buildpack-java-function@sha256:45229c346299d60b4250de5d0dae18d4759788a6025c419dbc990fd4b17d88fe"

[[buildpacks]]
  id = "heroku/nodejs-function"
  uri = "docker://docker.io/heroku/buildpack-nodejs-function@sha256:b0dc3aeaf644477bbfbae15be2a7454a0b7a648baf1c594b3035f78b9da0cd2e"

[[order]]
  [[order.group]]
    id = "heroku/nodejs-function"
    version = "2.6.2"

[[order]]
  [[order.group]]
    id = "heroku/java-function"
    version = "4.0.2"
